(this["webpackJsonppython-react"]=this["webpackJsonppython-react"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(21),r=n.n(c),i=(n(28),n(29),n(7)),o=n(0);var l=function(){return Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("span",{children:"SPA"})}),Object(o.jsxs)("ul",{className:"nav-list",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{to:"/",className:"active",children:"Form"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{to:"/users",className:"",children:"All Users"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{to:"/signin",className:"",children:"Sigin"})})]})]})})},u=n(23),h=n(2),j=n(9),d=n(10),p=n(12),b=n(11),O=(n(19),function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{username:"",password:""},data:{}},e.signin=function(t){t.preventDefault(),fetch("http://127.0.0.1:8000/auth",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":"LOVxzQpdSkIAkWTIvEDwS27A1s9BPXbX8wagw0UGj5CiRA"},body:JSON.stringify(e.state.user)}).then((function(e){return e.json()})).then((function(t){e.props.userLogin(t.token)})).catch((function(e){return console.log(e)}))},e.register=function(t){t.preventDefault(),fetch("http://127.0.0.1:8000/api/admin/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.user)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},e.changeHandler=function(t){var n=e.state.user;n[t.target.name]=t.target.value,e.setState({user:n})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"form-wrap",children:Object(o.jsxs)("form",{className:"form",children:[Object(o.jsx)("input",{type:"text",name:"username",value:this.state.user.login,onChange:this.changeHandler,placeholder:"\u041b\u043e\u0433\u0438\u043d"}),Object(o.jsx)("input",{type:"text",name:"password",value:this.state.user.password,onChange:this.changeHandler,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(o.jsxs)("div",{className:"action_block",children:[Object(o.jsx)("button",{onClick:this.signin,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(o.jsx)("button",{onClick:this.register,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}]),n}(s.Component)),m=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{name:"",phone:"",adress:"",id_num:""}},e.addNew=function(t){t.preventDefault(),fetch("http://127.0.0.1:8000/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state.user)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.setState({user:{name:"",phone:"",adress:"",id_num:""}})},e.changeHandler=function(t){var n=e.state.user;n[t.target.name]=t.target.value,e.setState({user:n})},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"form-wrap",children:Object(o.jsxs)("form",{className:"form",children:[Object(o.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.changeHandler,placeholder:"\u0424\u0418\u041e"}),Object(o.jsx)("input",{type:"number",name:"phone",value:this.state.phone,onChange:this.changeHandler,placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),Object(o.jsx)("input",{type:"text",name:"adress",value:this.state.adress,onChange:this.changeHandler,placeholder:"\u0410\u0434\u0440\u0435\u0441"}),Object(o.jsx)("input",{type:"number",name:"id_num",value:this.state.id_num,onChange:this.changeHandler,placeholder:"\u0418\u041d\u041d"}),Object(o.jsx)("button",{onClick:this.addNew,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})}}]),n}(s.Component),f=(n(20),function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:[]},e.getUsers=function(t){t.preventDefault(),e.props.param?fetch("http://127.0.0.1:8000/api/users/").then((function(e){return e.json()})).then((function(t){e.setState({user:t})})).catch((function(e){console.log(e)})):alert("Please login before")},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"users-list",children:[Object(o.jsx)("button",{onClick:this.getUsers,className:"getBtn",children:"\u0412\u0441\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),this.state.user.map((function(e){return Object(o.jsxs)("div",{className:"user-item",children:[Object(o.jsxs)("h3",{children:["\u0424\u0418\u041e: ",e.name]}),Object(o.jsxs)("p",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",e.phone]}),Object(o.jsxs)("p",{children:["\u0410\u0434\u0440\u0435\u0441: ",e.adress]}),Object(o.jsxs)("p",{children:["\u0418\u041d\u041d: ",e.id_num]})]},e.id)}))]})}}]),n}(s.Component));var g=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)(h.c,{children:[Object(o.jsx)(h.a,{path:"/",exact:!0,children:Object(o.jsx)(m,{})}),Object(o.jsx)(h.a,{path:"/users",children:Object(o.jsx)(f,{param:n})}),Object(o.jsx)(h.a,{path:"/signin",children:Object(o.jsx)(O,{userLogin:function(e){a(e),console.log(e)}})})]})};n(36);var x=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(l,{}),Object(o.jsx)(g,{})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),v()}},[[37,1,2]]]);
//# sourceMappingURL=main.ec14f16f.chunk.js.map